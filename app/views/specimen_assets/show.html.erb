<div class="w-full">
  <%= link_to "← Back to Gallery", specimen_assets_path, class: "inline-block text-sm text-stone-600 hover:text-amber-700 mb-8 transition-colors" %>

  <div class="grid md:grid-cols-2 gap-12 items-start">
    <div class="bg-gradient-to-br from-stone-100 to-stone-200 rounded-3xl p-8 ring-1 ring-stone-200">
      <% if @specimen_asset.image.attached? %>
        <%= image_tag @specimen_asset.image,
          alt: @specimen_asset.scientific_name,
          class: "w-full h-auto object-contain" %>
      <% end %>
    </div>

    <div class="py-4">
      <h1 class="font-serif text-4xl text-stone-900 mb-2">
        <em><%= @specimen_asset.scientific_name %></em>
      </h1>

      <% if @specimen_asset.common_name.present? %>
        <p class="text-xl text-stone-600 mb-6"><%= @specimen_asset.common_name %></p>
      <% end %>

      <div class="space-y-4 mb-8">
        <% if @specimen_asset.taxon_source.present? && @specimen_asset.taxon_id.present? %>
          <div class="flex items-center gap-2 text-sm text-stone-600">
            <span class="font-medium">Taxon:</span>
            <span><%= @specimen_asset.taxon_source %> #<%= @specimen_asset.taxon_id %></span>
          </div>
        <% end %>
      </div>

      <div class="p-4 bg-stone-100 rounded-xl">
        <h3 class="text-sm font-semibold text-stone-700 mb-2">License</h3>
        <% if @specimen_asset.license == "CC0" %>
          <p class="text-sm text-stone-600">
            <span class="inline-block px-2 py-1 bg-emerald-100 text-emerald-800 rounded text-xs font-medium mr-2">CC0</span>
            Public Domain — No attribution required
          </p>
        <% elsif @specimen_asset.license == "CC_BY" %>
          <p class="text-sm text-stone-600 mb-2">
            <span class="inline-block px-2 py-1 bg-amber-100 text-amber-800 rounded text-xs font-medium mr-2">CC-BY</span>
            Attribution required
          </p>
          <% if @specimen_asset.attribution_name.present? %>
            <p class="text-sm text-stone-700">
              Credit:
              <% if @specimen_asset.attribution_url.present? %>
                <%= link_to @specimen_asset.attribution_name, @specimen_asset.attribution_url,
                  target: "_blank", rel: "noopener",
                  class: "text-amber-700 hover:underline" %>
              <% else %>
                <span class="font-medium"><%= @specimen_asset.attribution_name %></span>
              <% end %>
            </p>
          <% end %>
        <% end %>
      </div>

      <% if @specimen_asset.image.attached? %>
        <div class="mt-8">
          <%= link_to rails_blob_path(@specimen_asset.image, disposition: "attachment"),
            class: "inline-flex items-center gap-2 px-6 py-3 bg-stone-900 text-white rounded-full hover:bg-stone-800 transition-colors" do %>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Download Original
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>

